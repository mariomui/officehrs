generator client {
  provider = "prisma-client-js"
}

// ER DIAGRAM Visualizer
// please copy everything and paste to this site
// https://prisma-erd.simonknott.de/
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Address {
  id              Int     @id @default(autoincrement())
  address_street  String
  address_city    String
  address_zip     String
  address_county  String
  address_country String
  address_raw     String?
  User            User[]
}

model User {
  id                Int                 @id @default(autoincrement())
  user_email        String              @unique
  user_hashedpw     String
  user_name         String
  user_salt         String
  user_surname      String
  ExpertisesOnUsers ExpertisesOnUsers[]
  Role              Roles
  Address           Address?            @relation(fields: [addressId], references: [id])
  addressId         Int?
}

enum Roles {
  Mentor
  Mentee
}

model Expertise {
  id      Int                 @id @default(autoincrement())
  name    String              @unique
  mentors ExpertisesOnUsers[]
}

model ExpertisesOnUsers {
  userId      Int
  expertiseId Int
  expertise   Expertise @relation(fields: [expertiseId], references: [id])
  User        User      @relation(fields: [userId], references: [id])

  @@id([expertiseId, userId])
}
